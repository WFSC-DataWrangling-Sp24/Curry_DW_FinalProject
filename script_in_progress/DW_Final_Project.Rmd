---
title: "Data Wrangling Final Project"
author: "Kaya Curry"
date: "`r Sys.Date()`"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Data Wrangling Final Project: Working with NEPAccess Environmental Justice Data

------------------------------------------------------------------------

*\*Reminde*r: At the beginning of the document to introduce your dataset and the general tasks that you will be completing in the following code chunks (problem decomposition).

-   define EJ

-   looking at agencies relationships with EJ

## Set-Up:

```{r}
# loading in the tidyverse
library(tidyverse)

# reading in all the data sheets seperately 
sheet1 <- read.csv("../data_raw/Kaya_1st_20_Sheet_2022_11_4_900_CW.xlsx - Sheet1.csv")

sheet2 <- read.csv("../data_raw/Kaya_2nd_20_2022_12_9_1723_KC.xlsx - Sheet1.csv")

sheet3 <- read.csv("../data_raw/Kaya_3rd_20_2022_1_20_2055_KC.xlsx - Sheet1.csv")

sheet4 <- read.csv("../data_raw/Kaya_4th_20_2022_01_29_1845_KC.xlsx - Sheet1.csv")

sheet5 <- read.csv("../data_raw/Kaya_5th_20_2022_2_8_1617_KC.xlsx - Sheet1.csv")

sheet6 <- read.csv("../data_raw/Kaya_6th_20_2022_2_12_1604_KC.xlsx - Sheet1.csv")

sheet7 <- read.csv("../data_raw/Kaya_7th_20_2023_5_6_1224_KC - Sheet1.csv")

sheet8 <- read.csv("../data_raw/Kaya_8th_20_2023_5_22_1935_KC - Sheet1.csv")

sheet9 <- read.csv("../data_raw/Kaya_9th_20_2023_5_22_2340_KC - Sheet1.csv")

sheet10 <- read.csv("../data_raw/Kaya_10th_20_2023_5_23_1115_KC - Sheet1.csv")

# Now that all the data has been read in, I will bind them to make one big data frame

all_data <- bind_rows(sheet1, sheet2, sheet3, sheet4, sheet5, sheet6, sheet7, sheet8, sheet9, sheet10)

head(all_data)

```

# Cleaning the Data Frame

Things I want to accomplish:

1.  **get rid of columns** that don't give us information on different agencies relationship with environmental justice

-   rename columns to be more concise

-   change n/a chr value to NA?

-   change the mitigation column to yes or no

```{r}
# 1. creating a new data frame called tidy_ej, and using summarise() so it only includes the columns I want to work with
tidy_ej <- all_data %>% 
  summarise(Agency, EJ.Community.present., Low.Income.Community.Present., Minority.Community.Present., Are.there.disproportionate.impacts., If.there.are.impacts..what.are.they.doing.to.mitigate.) %>% 
  rename(Agency = agency,
         EJ.Community.present. = EJ_present,
         Low.Income.Community.Present. = low_income_present,
         Minority.Community.Present. = minority_present,
         Are.there.disproportionate.impacts. = disp_impacts,
         If.there.are.impacts..what.are.they.doing.to.mitigate. = mitigation_present)

# did it backwards ^
```
